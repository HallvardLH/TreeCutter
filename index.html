<!DOCTYPE html>
<html>
<head>
</head>
<style>
.treeButton {
	margin:0;
	display:flex;
	justify-content:center;
	
	width:1200px;
	height:568px;
}
#treeImage {
    border: 10px inset yellowgreen;
    border-image: url(https://i.pinimg.com/originals/ef/28/65/ef286539b2537c1605a9c215ac28a4a0.jpg) 30 round;
}
#woodAmount {
	position:fixed;
	top:50%;
	left:2.3%;
}
.woodIcon {
	position:fixed;
	top:55%;
	left:1%;
}
#moneyAmount {
	position:fixed;
	top:35%;
	left:2.3%;
}
.moneyIcon {
	position:fixed;
	top:40%;
	left:1%;
}
.sell {
	position:fixed;
	top:90%;
}
	
</style>
<body>
<div class="sell">
<input type="text"; id="inputAmount"; value=""; onkeypress="return isNumberKey(event)";>
<button onclick="sellWood();">Sell wood</button>
</div>
<div class="treeButton">
<img id="treeImage"; onclick="clickTree();" onmouseover="changeToAxe();" src="https://i.imgur.com/aGBT0tm.png"; draggable="false";/>
</div>
<div class="woodIcon">
<img id="woodIcon;" src="https://i.imgur.com/X6Vz2uK.png";/>
<p id="woodAmount">0</p>
</div>
<div class="moneyIcon">
<img id="moneyIcon;" src="https://i.imgur.com/szakyEf.png";/>
<p id="moneyAmount">0</p>
</div>
</body>
</script>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>

//THINGS TO ADD///////
//something that tells you what you got from every click
//upgrades
//achievements?
//businessees and such to invest in
//money currency
//trees having to be bought with money
////This means I have to make a way to limit the amount of trees depending on how many trees I cureently own
//feature that makes cutting trees take longer
////cut time can be shortened with better axes
//Purchasing an acre of forest yelds a random amount of trees and a message is displayed saying this
////Displaying acres with the trees showing
//Make different variants to trees
///////////////////////


//changes the cursor to an axe icon when hovering over tree
function changeToAxe() {
	treeImage.style.cursor = "url('https://i.imgur.com/fbAJUwR.png'), auto";
}

//used to delay certain things
function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

//used for delaying each axe swing
var delayTime = 750; //usually 750, 0 when testing the game
var canGo = true,
    delay = delayTime;
//upgrade affected variables
var woodValue = 1; //the value of each individual piece of wood. Increased using upgrades (not yet implemented)
//currency variables and such
var treeClicked = 0;
var woodCount = 0; //the amount of wood
var splinters = 0; //the amount of splinters
var treesCutDown = 0; //the amount of trees cut down (duh)
var money = 0; //the amount of money
var assurance = 0; 
function clickTree() {
	if(treeClicked == 0 && canGo) {
		document.getElementById('treeImage').src='https://i.imgur.com/9dYxQOs.png';
		treeClicked++;
		//document.getElementById("splinterAmount").innerHTML = splinters; //used later for splinters
		canGo = false;
		setTimeout(function () { //
        	canGo = true;
        }, delay)
	}
	else if(treeClicked == 1 && canGo) {
		document.getElementById('treeImage').src='https://i.imgur.com/uUXjx0k.png';
		treeClicked++;
		canGo = false;
		setTimeout(function () {
        	canGo = true;
        }, delay)
	}
	else if(treeClicked == 2 && canGo) {
		document.getElementById('treeImage').src='https://i.imgur.com/RUmLW5d.png';
		treeClicked++;
		//document.getElementById("woodAmount").innerHTML = woodCount;
		canGo = false;
		setTimeout(function () {
        	canGo = true;
        }, delay)
	}
	else if(treeClicked == 3 && canGo) {
		document.getElementById('treeImage').src='https://i.imgur.com/TLJzfH6.png';
		treeClicked++;
		//document.getElementById("woodAmount").innerHTML = woodCount;
		canGo = false;
		setTimeout(function () {
        	canGo = true;
        }, delay)
	}
	else if(treeClicked == 4 && canGo) {
		document.getElementById('treeImage').src='https://i.imgur.com/9rr9haX.png';
		treeClicked++;
		//document.getElementById("woodAmount").innerHTML = woodCount;
		canGo = false;
		setTimeout(function () {
        	canGo = true;
        }, delay)
	}
	else if(treeClicked == 5 && canGo) {
		document.getElementById('treeImage').src='https://i.imgur.com/ZRlTtkj.png';
		treeClicked++;
		//document.getElementById("woodAmount").innerHTML = woodCount;
		canGo = false;
		setTimeout(function () {
        	canGo = true;
        }, delay)
	}
	else if(treeClicked == 6 && canGo) {
		var treeArray = ['https://i.imgur.com/YGtLRnA.png', 'https://i.imgur.com/5A2LW1e.png']; //makes the last image random
		var randomTree = treeArray.splice(Math.floor(Math.random() * treeArray.length));
		document.getElementById('treeImage').src = randomTree;
		//https://i.imgur.com/r5RJOHT.png
		if(assurance == 0) {
			woodCount += 5;
			assurance++;
			treesCutDown++;
			document.getElementById("woodAmount").innerHTML = woodCount;
			canGo = false;
			setTimeout(function () {
        		canGo = true;
        	}, delay)
		} else {
		document.getElementById('treeImage').src='https://i.imgur.com/aGBT0tm.png';
		treeClicked = 0;
		assurance--;
		}
	}
}

//restricts the input to numbers only
function isNumberKey(evt){
    var charCode = (evt.which) ? evt.which : event.keyCode
    if (charCode > 31 && (charCode < 48 || charCode > 57))
        return false;
    return true;
}

//reads the input value and subtracts it from "woodCount"
//only sells if there is enough wood
async function sellWood() {
	var inputValue = document.getElementById("inputAmount").value;
	var woodCountAmount = woodCount;
	var inputSecure = woodCountAmount -= inputValue;
	if(inputSecure >= 0) {
		woodCount = inputSecure;
		money += inputValue * woodValue;
		document.getElementById("woodAmount").innerHTML = woodCount;
		document.getElementById("moneyAmount").innerHTML = money;
	} else 
	document.getElementById("inputAmount").value = "Not enough wood!";
	await sleep(1000);
	document.getElementById("inputAmount").value = "";
}
</script>
